(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{MZhU:function(P,E,a){P.exports={container:"container___3DGcF",lang:"lang___18BEt",content:"content___24x6E",top:"top___Kmd6o",header:"header___1kD8J",logo:"logo___2Fmyt",title:"title___3pcso",desc:"desc___2QZoR",main:"main___3ipCw",icon:"icon___P3cg6",other:"other___3uIfA",register:"register___3Mz8E",prefixIcon:"prefixIcon___Tvd5H"}},Z1IU:function(P,E,a){"use strict";a.r(E);var ee=a("Znn+"),h=a("ZTPi"),ae=a("miYZ"),D=a("tsqr"),x=a("WmNS"),i=a.n(x),g=a("k1fw"),M=a("9og8"),f=a("tJVT"),se=a("fOrg"),C=a("+KLJ"),A=a("cJ7L"),K=a("FY4R"),j=a("q1tI"),te=a.n(j),R=a("VMEa"),p=a("Qurx"),W=a("tneF"),t=a("9kvl"),S=a("QttV"),z=a("CwrG"),F=a("T2l7"),N=a("MZhU"),r=a.n(N),e=a("nKUr"),re=a.n(e),Z=function(u){var l=u.content;return Object(e.jsx)(C.a,{style:{marginBottom:24},message:l,type:"error",showIcon:!0})},J=function(){!t.c||setTimeout(function(){var u=t.c.location.query,l=u,v=l.redirect;t.c.push(v||"/")},10)},V=function(){var u=Object(j.useState)(!1),l=Object(f.a)(u,2),v=l[0],I=l[1],$=Object(j.useState)({}),L=Object(f.a)($,2),T=L[0],G=L[1],Q=Object(j.useState)("account"),y=Object(f.a)(Q,2),b=y[0],Y=y[1],B=Object(t.g)("@@initialState"),d=B.initialState,H=B.setInitialState,m=Object(t.f)(),X=function(){var c=Object(M.a)(i.a.mark(function n(){var _,o;return i.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,d==null||(_=d.fetchUserInfo)===null||_===void 0?void 0:_.call(d);case 2:o=s.sent,o&&H(Object(g.a)(Object(g.a)({},d),{},{currentUser:o}));case 4:case"end":return s.stop()}},n)}));return function(){return c.apply(this,arguments)}}(),w=function(){var c=Object(M.a)(i.a.mark(function n(_){var o;return i.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return I(!0),s.prev=1,s.next=4,Object(F.a)(Object(g.a)(Object(g.a)({},_),{},{type:b}));case 4:if(o=s.sent,o.status!=="ok"){s.next=11;break}return D.default.success("\u767B\u5F55\u6210\u529F\uFF01"),s.next=9,X();case 9:return J(),s.abrupt("return");case 11:G(o),s.next=17;break;case 14:s.prev=14,s.t0=s.catch(1),D.default.error("\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01");case 17:I(!1);case 18:case"end":return s.stop()}},n,null,[[1,14]])}));return function(_){return c.apply(this,arguments)}}(),k=T.status,q=T.type;return Object(e.jsxs)("div",{className:r.a.container,children:[Object(e.jsx)("div",{className:r.a.lang,children:t.b&&Object(e.jsx)(t.b,{})}),Object(e.jsxs)("div",{className:r.a.content,children:[Object(e.jsx)("div",{className:r.a.top,children:Object(e.jsx)("div",{className:r.a.header,children:Object(e.jsxs)(S.a,{to:"/",children:[Object(e.jsx)("img",{alt:"logo",className:r.a.logo,src:"/logo.svg"}),Object(e.jsx)("span",{className:r.a.title,children:"Lkcozy Dashboard"})]})})}),Object(e.jsx)("div",{className:r.a.main,children:Object(e.jsxs)(R.a,{initialValues:{autoLogin:!0},submitter:{searchConfig:{submitText:m.formatMessage({id:"pages.login.submit",defaultMessage:"\u767B\u5F55"})},render:function(n,_){return _.pop()},submitButtonProps:{loading:v,size:"large",style:{width:"100%"}}},onFinish:function(){var c=Object(M.a)(i.a.mark(function n(_){return i.a.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:w(_);case 1:case"end":return O.stop()}},n)}));return function(n){return c.apply(this,arguments)}}(),children:[Object(e.jsx)(h.a,{activeKey:b,onChange:Y,children:Object(e.jsx)(h.a.TabPane,{tab:m.formatMessage({id:"pages.login.accountLogin.tab",defaultMessage:"\u8D26\u6237\u5BC6\u7801\u767B\u5F55"})},"account")}),k==="error"&&q==="account"&&Object(e.jsx)(Z,{content:m.formatMessage({id:"pages.login.accountLogin.errorMessage",defaultMessage:"\u8D26\u6237\u6216\u5BC6\u7801\u9519\u8BEF\uFF08admin/ant.design)"})}),b==="account"&&Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(p.a,{name:"username",fieldProps:{size:"large",prefix:Object(e.jsx)(A.a,{className:r.a.prefixIcon})},placeholder:m.formatMessage({id:"pages.login.username.placeholder",defaultMessage:"\u7528\u6237\u540D: admin or user"}),rules:[{required:!0,message:Object(e.jsx)(t.a,{id:"pages.login.username.required",defaultMessage:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"})}]}),Object(e.jsx)(p.a.Password,{name:"password",fieldProps:{size:"large",prefix:Object(e.jsx)(K.a,{className:r.a.prefixIcon})},placeholder:m.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"\u5BC6\u7801: ant.design"}),rules:[{required:!0,message:Object(e.jsx)(t.a,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]})]}),Object(e.jsxs)("div",{style:{marginBottom:24},children:[Object(e.jsx)(W.a,{noStyle:!0,name:"autoLogin",children:Object(e.jsx)(t.a,{id:"pages.login.rememberMe",defaultMessage:"\u81EA\u52A8\u767B\u5F55"})}),Object(e.jsx)("a",{style:{float:"right"}})]})]})})]}),Object(e.jsx)(z.a,{})]})};E.default=V}}]);
